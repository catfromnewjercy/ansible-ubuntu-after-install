- hosts: runtime
  become: true
  tasks:
    - ansible.builtin.import_role:
        name: roles/ubuntu-sysconf-optimize

    - ansible.builtin.import_role:
        name: roles/ubuntu-env-optimize

    - ansible.builtin.import_role:
        name: roles/repositories

- name: Execute Sonatype Nexus Deploy
  hosts: sonatype
  become: true
  tasks:
    - ansible.builtin.import_role:
        name: roles/sonatype-nexus-deploy
      when: groups['sonatype'] | length > 0

- name: Execute Sonatype Nexus Deploy
  hosts: docker
  become: true
  tasks:
    - ansible.builtin.import_role:
        name: roles/docker-install
      when: groups['docker'] | length > 0